# CSS层叠特性的存在必要？

（证明CSS的层叠特性的实际应用完全与基于时间轴的栈模型相同）

```
// struct
root {
	box {
		item
	}
	item
}
```

```
// origin style
box>item {
	color red
}

// user style
item {
	color yellow;
}
```

根据CSS的选择器优先级策略，`box>item`选择器中的color生效，后来`item`定义的color无效。

后来定义的样式没有生效，于是用户写了一条无用的样式，是的，完全无用！

很明显此策略对栈模型底层的选择器进行了保护，为何？

为此提出几种可能的假设：

#### 避免深层目标不被击中（长度优先）

先来看一个对比实验：

```
a>b>c>d>e {}
b>c>d>e {}
c>d>e {}
d>e {}
e {}
```

```
e {}
e {}
e {}
e {}
e {}
```

防止覆盖的方式

###### 代价假设

更详细的选择器意味着花更多的时间代价，权重应该更高，所以如果后面想覆盖就必须要花费相等或大于以前的代价才能覆盖。

在这个模型中，代价和权重成正比

> P / C = N